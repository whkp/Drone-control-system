server:
  port: 8080
  host: "0.0.0.0"
  read_timeout: 30s
  write_timeout: 30s

database:
  # MySQL æ•°æ®åº“é…ç½®
  mysql:
    host: "localhost"
    port: 3306
    user: "root"
    password: "password"
    dbname: "drone_control"
    charset: "utf8mb4"
    parse_time: true
    loc: "Local"
    max_open_conns: 100
    max_idle_conns: 10
    conn_max_lifetime: "1h"
    conn_max_idle_time: "30m"
    log_level: "info"

  redis:
    addr: "localhost:6379"
    password: ""
    db: 0
    pool_size: 10
    min_idle_conns: 5
    dial_timeout: 5s
    read_timeout: 3s
    write_timeout: 3s
    pool_timeout: 4s
    idle_timeout: 5m

# Kafka æ¶ˆæ¯é˜Ÿåˆ—é…ç½®
kafka:
  brokers:
    - "localhost:9092"
  group_id: "drone-control-system"
  auto_offset_reset: "earliest"
  session_timeout: 10s
  commit_interval: 1s
  retry_attempts: 3
  retry_backoff: 100ms
  compression_codec: "snappy"
  security_protocol: "PLAINTEXT"
  # SASL è®¤è¯é…ç½®ï¼ˆå¯é€‰ï¼‰
  # sasl_mechanism: "PLAIN"
  # sasl_username: "username"
  # sasl_password: "password"

jwt:
  secret: "your-super-secret-jwt-key"
  expires_in: 24h

grpc:
  user_service: "localhost:50051"
  task_service: "localhost:50052" 
  monitor_service: "localhost:50053"
  drone_control: "localhost:50054"

llm:
  deepseek:
    api_key: "your-deepseek-api-key"
    base_url: "https://api.deepseek.com"
    model: "deepseek-chat"
    max_tokens: 1024
    temperature: 0.7
logging:
  level: "info"
  format: "json"
  output: "stdout"

# ğŸš€ Kafka é…ç½®
kafka:
  brokers: "localhost:9092"
  group_id: "drone-control-system"
  auto_offset_reset: "earliest"
  session_timeout: "10s"
  commit_interval: "1s"
  compression_codec: "snappy"
  
  # ä¸»é¢˜é…ç½®
  topics:
    drone_events: "drone-events"
    task_events: "task-events"
    user_events: "user-events"
    alert_events: "alert-events"
    system_events: "system-events"
    monitoring_data: "monitoring-data"

rate_limit:
  requests_per_minute: 1000
  burst: 100

websocket:
  read_buffer_size: 1024
  write_buffer_size: 1024
  check_origin: true
